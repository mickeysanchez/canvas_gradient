<!DOCTYPE html>
<html>

<head>
	<style>
	canvas {
		border: 1px solid;
	}
	</style>
</head>

<body>
	
<canvas width="800" height="600" id="canvas">
	
<script>
	// requestAnimFrame shim a la Paul Irish
	window.requestAnimFrame = 
	(function(){   
	return  window.requestAnimationFrame ||
		    window.webkitRequestAnimationFrame ||
			window.mozRequestAnimationFrame ||
		    window.oRequestAnimationFrame ||
			window.msRequestAnimationFrame ||
			function( callback ) { window.setTimeout(callback, 1000 / 60); }; })(); 
	
	
	var x = 0;
	function drawIt() {
		window.requestAnimFrame(drawIt);
		
		var canvas = document.getElementById('canvas');
		var c = canvas.getContext('2d');
		
	    c.clearRect(0,0,canvas.width,canvas.height);
		
		var grad = c.createLinearGradient(0,0,1000,x);
		grad.addColorStop(0 , "orange");
		grad.addColorStop(0.1, "red");
		grad.addColorStop(0.2, "orange");
		grad.addColorStop(0.3, "red");
		grad.addColorStop(0.4, "orange");
		grad.addColorStop(0.5, "red");
		grad.addColorStop(0.6, "orange");
		grad.addColorStop(0.7, "red");
		grad.addColorStop(0.8, "orange");
		grad.addColorStop(1, "black")
		
		c.fillStyle = grad;
		c.fillRect(0,0,canvas.width,canvas.height);
		
		x += 5;
    }
	
	window.requestAnimFrame(drawIt)
</script>	

</body>
	
</html>